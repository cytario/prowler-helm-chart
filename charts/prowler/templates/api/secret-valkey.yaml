{{- if .Values.valkey.enabled -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "prowler.fullname" . }}-api-valkey
  labels:
    {{- include "prowler.labels" . | nindent 4 }}
type: Opaque
stringData:
  # Official Valkey chart creates service named <release-name>-valkey
  VALKEY_HOST: "{{ include "prowler.fullname" . }}-valkey"
  # VALKEY_PASSWORD: "valkey_password"  # Uncomment if auth is enabled
  VALKEY_PORT: {{ .Values.valkey.service.port | default "6379" | quote }}
  VALKEY_DB: "0"
{{- end -}}
